[Unit]
Description=Remote RPi GPIO Execution Service Using MQTT
Wants=network.target
After=network.target avahi-daemon.service mosquitto.service systemd-time-wait-sync.service

[Service]
Type=simple
User=nobody
Group=gpio
EnvironmentFile=-/etc/rio_exec/rio_exec.conf
ExecStartPre=/bin/sleep 2
ExecStart=/usr/bin/python3 -u /usr/bin/rio_exec.py
ExecReload=kill -HUP $MAINPID
Restart=on-failure
RestartSec=2
SuccessExitStatus=130
RestartPreventExitStatus=78

[Install]
WantedBy=multi-user.target
